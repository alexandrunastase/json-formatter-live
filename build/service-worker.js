!function(){var e="20052021::CacheFirstSafe",t=["https://plausible.io/js/plausible.js"];function n(n,i){if(!n.url.startsWith("chrome-extension://")&&!t.includes(n.url)&&(i.ok||"opaque"===i.type)){var c=i.clone();caches.open(e).then((function(e){e.put(n,c)}))}}function i(e){if(-1!==e.headers.get("Accept").indexOf("image"))return new Response('<svg role="img" aria-labelledby="offline-title" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg"><title id="offline-title">Offline</title><g fill="none" fill-rule="evenodd"><path fill="#D8D8D8" d="M0 0h400v300H0z"/><text fill="#9B9B9B" font-family="Helvetica Neue,Arial,Helvetica,sans-serif" font-size="72" font-weight="bold"><tspan x="93" y="172">offline</tspan></text></g></svg>',{headers:{"Content-Type":"image/svg+xml"}})}self.addEventListener("install",(function(t){t.waitUntil(caches.open(e).then((function(e){return e.addAll(["/"])})))})),self.addEventListener("activate",(function(t){t.waitUntil(caches.keys().then((function(t){return Promise.all(t.filter((function(t){return 0!==t.indexOf(e)})).map((function(e){return caches.delete(e)})))})))})),self.addEventListener("fetch",(function(e){var t=e.request;"GET"!==t.method||t.url.match(/\/browserLink/gi)?e.respondWith(fetch(t).catch((function(){return caches.match("/")}))):-1===t.headers.get("Accept").indexOf("text/html")?t.url.match(/(\?|&)v=/gi)?e.respondWith(caches.match(t).then((function(e){return e||fetch(t).then((function(e){return n(t,e),e||i(t)})).catch((function(){return i(t)}))}))):e.respondWith(fetch(t).then((function(e){return n(t,e),e})).catch((async function(){try{return await caches.match(t)||i(t)}catch(e){return i(t)}}))):e.respondWith(fetch(t).then((function(e){return n(t,e),e})).catch((function(){return caches.match(t).then((function(e){return e||caches.match("/")}))})))}))}();
